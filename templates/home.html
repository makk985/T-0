<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <style>
        body { 
            margin: 0;
            overflow: hidden; /* Prevent scrollbars */
        }
        canvas { 
            display: block; /* Remove inline spacing */
            position: absolute; /* Position canvas absolutely */
            top: 0;
            left: 0;
            width: 100%; /* Fill the width */
            height: 100%; /* Fill the height */
            z-index: 0; /* Set z-index to 0 */
        }
        h1 ,nav{ 
            position: relative; /* Ensure heading and nav are above canvas */
            z-index: 1; /* Set z-index to 1 */
        }
        .fade-in { 
            animation: fadeIn 1s forwards; /* Ensure the final state is maintained */
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        .bottom-left-button {
            position: fixed;
            bottom: 20px;
            left: 10px;
            padding: 3px 6px; /* Adjust padding to match the inline styles */
            background-color: blue;
            color: white;
            border: none;
            border-radius: 5px;
        }
        .icon-container {
            position: fixed;
            bottom: 20px; /* Adjust as needed */
            left: 53%;
            transform: translateX(-50%);
            display: flex;
            gap: 10px;
            z-index: 1;
        }
        .icon-link {
            color: white; /* Adjust color as needed */
            font-size: 24px; /* Adjust size as needed */
        }
        #draggable-icon {
            position: absolute;
            cursor: move;
            z-index: 1000;
        }
    </style>
</head>
<body>
    <canvas id="myCanvas"></canvas>
    <div style="display: flex; align-items: center; top: 10px; justify-content: center; position: relative; z-index: 1;">
        <div>
            <h1 id="heading" style="color: green; font-family: 'Times New Roman', Times, serif ; margin: 0;">Welcome to my Space</h1>
        </div>
        <div style="margin-left: 10px; display: flex; align-items: center;">
            <img id="draggable-icon" src="static/icon0.png" alt="Icon" style="width: 50px; height: 35px; opacity: 0.9;" draggable="true">
        </div>
    </div>
    <br> 
    <br>
    <p style="text-align: center; color: red; font-size: 20px;font-family: cursive; position: relative; z-index: 1;">I do things that i like most of the time </p>
    <p style="text-align: center; color: white; font-size: 12px; position: fixed; bottom: 10px; right: 10px; z-index: 1;">*if you're here we're already friends</p>
    <nav>
        <ul style="display: flex; flex-direction: column; gap: 5px;">
            <li>
                <button type="button" style="top: 10px; left: 10px; font-size:15px; color:white; background-color:blue; border-radius:5px; padding: 2px 4px; display: block; position: fixed; z-index: 1;" onclick="window.location.href='/';">Home</button>
            </li>
            <li>
                <button type="button" style="top: 40px; left: 10px; font-size:15px; color:white; background-color:blue; border-radius:5px; padding: 2px 4px; display: block; position: fixed; z-index: 1;" onclick="window.location.href='/projects';">Projects</button>
            </li>
            <li>
                <button type="button" style="top: 70px; left: 10px; font-size:15px; color:white; background-color:blue; border-radius:5px; padding: 2px 4px; display: block; position: fixed; z-index: 1;" onclick="window.location.href='/contact';">About</button>
            </li>
        </ul>
    
     <button class="bottom-left-button" type="button" style="font-size:12px;" onclick="window.location.href='/contact';">Contact</button>
    </nav>
    <div class="icon-container">
    <a href="mailto:mayankk985@gmail.com" class="icon-link" target="_blank">
        <i class="fas fa-envelope"></i>
    </a>
    <a href="https://twitter.com/yourprofile" class="icon-link" target="_blank">
        <i class="fab fa-twitter"></i>
    </a>
    <a href="https://github.com/yourprofile" class="icon-link" target="_blank">
        <i class="fab fa-github"></i>
    </a>
    <a href="https://replit.com/@yourprofile" class="icon-link" target="_blank">
        <svg xmlns="http://www.w3.org/2000/svg" width="112" height="26" viewBox="0 0 112 26" fill="none">
            <path d="M10.701 8.40793H1.60592C0.710313 8.40793 0 7.69462 0 6.82955V1.57838C0 0.698131 0.725755 0 1.60592 0H9.09508C9.99069 0 10.701 0.713307 10.701 1.57838V8.40793Z" class="logo-dots" fill="orange"></path>
            <path d="M20.4557 17.5668H10.7109V8.39453H20.4557C21.3987 8.39453 22.1763 9.17128 22.1763 10.1133V15.8481C22.1763 16.8066 21.3987 17.5668 20.4557 17.5668Z" class="logo-dots" fill="orange"></path>
            <path d="M9.09508 26H1.60592C0.725755 26 0 25.288 0 24.4244V19.1676C0 18.3041 0.725755 17.592 1.60592 17.592H10.701V24.4244C10.701 25.288 9.97525 26 9.09508 26Z" class="logo-dots" fill="orange"></path>
        </svg>
        </a>
    </div>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.9.1/gsap.min.js"></script>
    <script src="static/js/animation.js"></script>
    <script>
        const canvas = document.getElementById('myCanvas');
        const context = canvas.getContext('2d');

        function resizeCanvas() {
            canvas.width = window.innerWidth; // Set canvas width
            canvas.height = window.innerHeight; // Set canvas height
            // Redraw or initialize your canvas content here if needed
        }

        window.addEventListener('resize', resizeCanvas, false);
        resizeCanvas(); // Initial call to set size

        document.addEventListener("DOMContentLoaded", function() {
            // Add animation class to heading
            document.getElementById("heading").classList.add('fade-in');
            // Initialize other animations here if needed
        });

        const draggableIcon = document.getElementById('draggable-icon');
        let isDragging = false;
        let currentX;
        let currentY;
        let initialX;
        let initialY;
        let xOffset = 0;
        let yOffset = 0;

        draggableIcon.addEventListener('mousedown', dragStart);
        document.addEventListener('mousemove', drag);
        document.addEventListener('mouseup', dragEnd);

        draggableIcon.addEventListener('touchstart', dragStart);
        document.addEventListener('touchmove', drag);
        document.addEventListener('touchend', dragEnd);

        function dragStart(e) {
            if (e.type === "touchstart") {
                initialX = e.touches[0].clientX - xOffset;
                initialY = e.touches[0].clientY - yOffset;
            } else {
                initialX = e.clientX - xOffset;
                initialY = e.clientY - yOffset;
            }

            if (e.target === draggableIcon) {
                isDragging = true;
            }
        }

        function dragEnd(e) {
            initialX = currentX;
            initialY = currentY;
            isDragging = false;
        }

        function drag(e) {
            if (isDragging) {
                e.preventDefault();
                if (e.type === "touchmove") {
                    currentX = e.touches[0].clientX - initialX;
                    currentY = e.touches[0].clientY - initialY;
                } else {
                    currentX = e.clientX - initialX;
                    currentY = e.clientY - initialY;
                }

                xOffset = currentX;
                yOffset = currentY;

                setTranslate(currentX, currentY, draggableIcon);
            }
        }

        function setTranslate(xPos, yPos, el) {
            el.style.transform = "translate3d(" + xPos + "px, " + yPos + "px, 0)";
        }
    </script>
</body>
</html>